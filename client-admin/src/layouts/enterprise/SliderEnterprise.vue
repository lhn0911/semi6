<template>
  <div class="sidebar" v-if="currentUser">
    <div class="user-info">
      <img :src="currentUser.avatar" alt="User avatar" class="user-avatar" />
      <div>
        <div class="user-name">{{ currentUser.userName }}</div>
        <div class="user-text">{{ currentUser.email }}</div>
      </div>
    </div>
    <div class="divider"></div>
    <nav class="nav-menu">
      <div class="nav-item">
        <div class="icon-wrapper">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M14.168 18.125H5.83464C2.15964 18.125 1.04297 17.0083 1.04297 13.3333V6.66667C1.04297 2.99167 2.15964 1.875 5.83464 1.875H14.168C17.843 1.875 18.9596 2.99167 18.9596 6.66667V13.3333C18.9596 17.0083 17.843 18.125 14.168 18.125ZM5.83464 3.125C2.8513 3.125 2.29297 3.69167 2.29297 6.66667V13.3333C2.29297 16.3083 2.8513 16.875 5.83464 16.875H14.168C17.1513 16.875 17.7096 16.3083 17.7096 13.3333V6.66667C17.7096 3.69167 17.1513 3.125 14.168 3.125H5.83464Z" fill="#2D2C2C"/>
<path d="M15.8346 7.29166H11.668C11.3263 7.29166 11.043 7.00832 11.043 6.66666C11.043 6.32499 11.3263 6.04166 11.668 6.04166H15.8346C16.1763 6.04166 16.4596 6.32499 16.4596 6.66666C16.4596 7.00832 16.1763 7.29166 15.8346 7.29166Z" fill="#2D2C2C"/>
<path d="M15.8333 10.625H12.5C12.1583 10.625 11.875 10.3417 11.875 10C11.875 9.65833 12.1583 9.375 12.5 9.375H15.8333C16.175 9.375 16.4583 9.65833 16.4583 10C16.4583 10.3417 16.175 10.625 15.8333 10.625Z" fill="#2D2C2C"/>
<path d="M15.8346 13.9583H14.168C13.8263 13.9583 13.543 13.675 13.543 13.3333C13.543 12.9917 13.8263 12.7083 14.168 12.7083H15.8346C16.1763 12.7083 16.4596 12.9917 16.4596 13.3333C16.4596 13.675 16.1763 13.9583 15.8346 13.9583Z" fill="#2D2C2C"/>
<path d="M7.08255 10.0333C5.90755 10.0333 4.94922 9.07499 4.94922 7.9C4.94922 6.725 5.90755 5.76666 7.08255 5.76666C8.25755 5.76666 9.21589 6.725 9.21589 7.9C9.21589 9.07499 8.25755 10.0333 7.08255 10.0333ZM7.08255 7.01666C6.59922 7.01666 6.19922 7.41666 6.19922 7.9C6.19922 8.38333 6.59922 8.78333 7.08255 8.78333C7.56589 8.78333 7.96589 8.38333 7.96589 7.9C7.96589 7.41666 7.56589 7.01666 7.08255 7.01666Z" fill="#2D2C2C"/>
<path d="M10.0009 14.2333C9.68423 14.2333 9.40923 13.9917 9.3759 13.6667C9.28423 12.7667 8.55923 12.0417 7.6509 11.9583C7.26757 11.925 6.88423 11.925 6.5009 11.9583C5.59257 12.0417 4.86757 12.7583 4.7759 13.6667C4.74257 14.0083 4.43423 14.2667 4.09256 14.225C3.7509 14.1917 3.5009 13.8833 3.53423 13.5417C3.68423 12.0417 4.8759 10.85 6.38423 10.7167C6.84257 10.675 7.30923 10.675 7.76756 10.7167C9.26756 10.8583 10.4676 12.05 10.6176 13.5417C10.6509 13.8833 10.4009 14.1917 10.0592 14.225C10.0426 14.2333 10.0176 14.2333 10.0009 14.2333Z" fill="#2D2C2C"/>
</svg>

        </div>
        <span>Thông tin doanh nghiệp</span>
      </div>
      <div class="nav-item active">
        <div class="icon-wrapper">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M13.1741 16.8167C12.9574 16.8167 12.7324 16.8083 12.4907 16.7833C12.0574 16.75 11.5658 16.6667 11.0574 16.5417L9.65742 16.2083C5.81575 15.3 4.55742 13.2667 5.45742 9.43333L6.27408 5.94166C6.45742 5.14999 6.67408 4.50833 6.94075 3.97499C8.37408 1.01666 11.1157 1.28333 13.0657 1.74166L14.4574 2.06666C16.4074 2.52499 17.6407 3.24999 18.3324 4.35833C19.0157 5.46666 19.1241 6.89166 18.6657 8.84166L17.8491 12.325C17.1324 15.375 15.6407 16.8167 13.1741 16.8167ZM10.9324 2.70833C9.54075 2.70833 8.65742 3.28333 8.06575 4.51666C7.84908 4.96666 7.65742 5.52499 7.49075 6.22499L6.67408 9.71666C5.93242 12.8667 6.79075 14.2417 9.94075 14.9917L11.3407 15.325C11.7907 15.4333 12.2157 15.5 12.5991 15.5333C14.8657 15.7583 15.9908 14.7667 16.6241 12.0417L17.4408 8.55833C17.8158 6.94999 17.7657 5.82499 17.2657 5.01666C16.7657 4.20833 15.7824 3.65833 14.1657 3.28333L12.7741 2.95833C12.0824 2.79166 11.4657 2.70833 10.9324 2.70833Z" fill="#AB1F24"/>
<path d="M6.9435 18.5417C4.80183 18.5417 3.43517 17.2583 2.56017 14.55L1.4935 11.2583C0.310167 7.59168 1.3685 5.52501 5.0185 4.34168L6.33517 3.91668C6.7685 3.78334 7.0935 3.69168 7.38517 3.64168C7.62683 3.59168 7.86017 3.68334 8.00183 3.87501C8.1435 4.06668 8.1685 4.31668 8.0685 4.53334C7.85183 4.97501 7.66017 5.53334 7.50183 6.23334L6.68517 9.72501C5.9435 12.875 6.80183 14.25 9.95183 15L11.3518 15.3333C11.8018 15.4417 12.2268 15.5083 12.6102 15.5417C12.8768 15.5667 13.0935 15.75 13.1685 16.0083C13.2352 16.2667 13.1352 16.5333 12.9185 16.6833C12.3685 17.0583 11.6768 17.375 10.8018 17.6583L9.48517 18.0917C8.52683 18.3917 7.6935 18.5417 6.9435 18.5417ZM6.48517 5.18334L5.41017 5.53334C2.43517 6.49168 1.72683 7.89168 2.68517 10.875L3.75183 14.1667C4.7185 17.1417 6.1185 17.8583 9.0935 16.9L10.4102 16.4667C10.4602 16.45 10.5018 16.4333 10.5518 16.4167L9.6685 16.2083C5.82683 15.3 4.5685 13.2667 5.4685 9.43334L6.28517 5.94168C6.3435 5.67501 6.41017 5.41668 6.48517 5.18334Z" fill="#AB1F24"/>
<path d="M14.5751 8.75833C14.5251 8.75833 14.4751 8.75 14.4168 8.74166L10.3751 7.71666C10.0418 7.63333 9.84181 7.29166 9.92514 6.95833C10.0085 6.625 10.3501 6.425 10.6835 6.50833L14.7251 7.53333C15.0585 7.61666 15.2585 7.95833 15.1751 8.29166C15.1085 8.56666 14.8501 8.75833 14.5751 8.75833Z" fill="#AB1F24"/>
<path d="M12.1343 11.575C12.0843 11.575 12.0343 11.5667 11.9759 11.5583L9.55092 10.9417C9.21759 10.8583 9.01759 10.5167 9.10092 10.1833C9.18425 9.85 9.52592 9.65 9.85925 9.73334L12.2843 10.35C12.6176 10.4333 12.8176 10.775 12.7343 11.1083C12.6676 11.3917 12.4176 11.575 12.1343 11.575Z" fill="#AB1F24"/>
</svg>

        </div>
        <span>Tin tuyển dụng</span>
      </div>
      <!-- <div class="nav-item">
        <div class="icon-wrapper">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path
              d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
            ></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
        </div>
        <span>Quản lý CV</span>
      </div> -->

      <div class="nav-item">
        <div class="icon-wrapper">
          <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.66797 4.79166C6.3263 4.79166 6.04297 4.50832 6.04297 4.16666V1.66666C6.04297 1.32499 6.3263 1.04166 6.66797 1.04166C7.00964 1.04166 7.29297 1.32499 7.29297 1.66666V4.16666C7.29297 4.50832 7.00964 4.79166 6.66797 4.79166Z" fill="#3D3D3D"/>
<path d="M13.332 4.79166C12.9904 4.79166 12.707 4.50832 12.707 4.16666V1.66666C12.707 1.32499 12.9904 1.04166 13.332 1.04166C13.6737 1.04166 13.957 1.32499 13.957 1.66666V4.16666C13.957 4.50832 13.6737 4.79166 13.332 4.79166Z" fill="#3D3D3D"/>
<path d="M17.0846 8.19998H2.91797C2.5763 8.19998 2.29297 7.91665 2.29297 7.57498C2.29297 7.23331 2.5763 6.94998 2.91797 6.94998H17.0846C17.4263 6.94998 17.7096 7.23331 17.7096 7.57498C17.7096 7.91665 17.4263 8.19998 17.0846 8.19998Z" fill="#2D2C2C"/>
<path d="M13.3333 18.9583H6.66667C3.625 18.9583 1.875 17.2083 1.875 14.1667V7.08332C1.875 4.04166 3.625 2.29166 6.66667 2.29166H13.3333C16.375 2.29166 18.125 4.04166 18.125 7.08332V14.1667C18.125 17.2083 16.375 18.9583 13.3333 18.9583ZM6.66667 3.54166C4.28333 3.54166 3.125 4.69999 3.125 7.08332V14.1667C3.125 16.55 4.28333 17.7083 6.66667 17.7083H13.3333C15.7167 17.7083 16.875 16.55 16.875 14.1667V7.08332C16.875 4.69999 15.7167 3.54166 13.3333 3.54166H6.66667Z" fill="#2D2C2C"/>
<path d="M7.08333 12.0833C6.975 12.0833 6.86666 12.0583 6.76666 12.0167C6.66666 11.975 6.57501 11.9167 6.49167 11.8417C6.41667 11.7583 6.35832 11.6667 6.31666 11.5667C6.27499 11.4667 6.25 11.3583 6.25 11.25C6.25 11.0333 6.34167 10.8167 6.49167 10.6583C6.57501 10.5833 6.66666 10.525 6.76666 10.4833C6.91666 10.4167 7.08334 10.4 7.25001 10.4333C7.30001 10.4417 7.35 10.4583 7.4 10.4833C7.45 10.5 7.5 10.525 7.55 10.5583C7.59166 10.5917 7.63333 10.625 7.67499 10.6583C7.70833 10.7 7.74999 10.7417 7.77499 10.7833C7.80832 10.8333 7.83334 10.8833 7.85001 10.9333C7.87501 10.9833 7.89168 11.0333 7.90001 11.0833C7.90834 11.1417 7.91667 11.1917 7.91667 11.25C7.91667 11.4667 7.82499 11.6833 7.67499 11.8417C7.51666 11.9917 7.3 12.0833 7.08333 12.0833Z" fill="#2D2C2C"/>
<path d="M10.0013 12.0833C9.78464 12.0833 9.56798 11.9916 9.40964 11.8416C9.37631 11.8 9.34298 11.7583 9.30965 11.7167C9.27631 11.6667 9.25129 11.6167 9.23462 11.5667C9.20962 11.5167 9.19296 11.4667 9.18463 11.4167C9.17629 11.3583 9.16797 11.3083 9.16797 11.25C9.16797 11.1417 9.19296 11.0333 9.23462 10.9333C9.27629 10.8333 9.33464 10.7417 9.40964 10.6583C9.64298 10.425 10.018 10.35 10.318 10.4833C10.4263 10.525 10.5096 10.5833 10.593 10.6583C10.743 10.8167 10.8346 11.0333 10.8346 11.25C10.8346 11.3083 10.8263 11.3583 10.818 11.4167C10.8096 11.4667 10.793 11.5167 10.768 11.5667C10.7513 11.6167 10.7263 11.6667 10.693 11.7167C10.6596 11.7583 10.6263 11.8 10.593 11.8416C10.5096 11.9166 10.4263 11.975 10.318 12.0167C10.218 12.0583 10.1096 12.0833 10.0013 12.0833Z" fill="#2D2C2C"/>
<path d="M7.08333 15C6.975 15 6.86666 14.975 6.76666 14.9334C6.66666 14.8917 6.57501 14.8333 6.49167 14.7583C6.41667 14.675 6.35832 14.5917 6.31666 14.4833C6.27499 14.3833 6.25 14.275 6.25 14.1667C6.25 13.95 6.34167 13.7333 6.49167 13.575C6.57501 13.5 6.66666 13.4417 6.76666 13.4C7.075 13.2667 7.44166 13.3417 7.67499 13.575C7.70833 13.6167 7.74999 13.6583 7.77499 13.7C7.80832 13.75 7.83334 13.8 7.85001 13.85C7.87501 13.9 7.89168 13.95 7.90001 14.0083C7.90834 14.0583 7.91667 14.1167 7.91667 14.1667C7.91667 14.3833 7.82499 14.6 7.67499 14.7583C7.51666 14.9083 7.3 15 7.08333 15Z" fill="#2D2C2C"/>
</svg>

        </div>
        <span>Lịch phỏng vấn</span>
      </div>
      

      <!-- <div class="nav-item">
        <div class="icon-wrapper">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
          </svg>
        </div>
        <span>Đổi mật khẩu</span>
      </div> -->
    </nav>
  </div>
  <p v-else>Đang tải thông tin người dùng...</p>
</template>
    
    <script setup>
import { ref, computed, onMounted } from "vue";
import { useStore } from "vuex";

const store = useStore();

const userId = JSON.parse(localStorage.getItem("UserLogin")).id;
const currentUser = computed(() => store.state.user.currentUser);
onMounted(() => {
  store.dispatch("fetchUserById", userId);
});
</script>
  
  <style scoped>
.sidebar {
  width: 280px;
  background: white;
  padding: 24px;
  border-right: 1px solid #eee;
}

.user-info {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 30px;
}

.user-avatar {
  width: 50px;
  height: 50px;
  border-radius: 50%;
}
.user-name {
  font-size: 15px;
}
.user-text {
  font-size: 14px;
  color: #666;
}

.nav-menu .nav-item {
  display: flex;
  align-items: center;
  padding: 12px 16px;
  margin: 4px 0;
  border-radius: 8px;
  cursor: pointer;
  gap: 12px;
  color: #374151;
}

.nav-item.active {
  background-color: #fef2f2;
  color: #dc2626;
}

.nav-item span {
  font-size: 14px;
}

.icon-wrapper svg {
  width: 20px;
  height: 20px;
}
.divider {
  height: 1px;
  background-color: #F4F4F4;
  margin: 20px 0;
}

</style>